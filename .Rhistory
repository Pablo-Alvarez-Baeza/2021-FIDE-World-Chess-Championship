d |> select(c) |>
mutate_if(is.character, str_trim)
d |> select(c) |>
mutate_if(str_trim)
d |> select(c) |>
mutate_if(is.character, str_trim)
d |> select(c) |>
filter(~c == "")
d |> select(c) |>
filter(! c == "")
pgn |> glimpse()
pgn <- read.pgn("wch21.pgn") |>
clean_names()
pgn |> glimpse()
df <- pgn |>
select(round, white, black, result, movetext)
df |>
mutate(movetext_cleaned = strsplit(movetext, "[^1-9.a-zA-Z]"))
df |>
mutate(movetext_cleaned = strsplit(movetext, "[^1-9.a-zA-Z]"),
movetext_cleaned = case_when(movetext == "O" ~ "O-O",
TRUE ~ movetext),
movetext_cleaned = str_replace_all(b, "^[1-9].", " "))
df |>
mutate(movetext_cleaned = strsplit(movetext, "[^1-9.a-zA-Z]"),
movetext_cleaned = case_when(movetext == "O" ~ "O-O",
TRUE ~ movetext),
movetext_cleaned = str_replace_all(movetext, "^[1-9].", " "))
df |>
mutate(movetext_cleaned = strsplit(movetext, "[^1-9.a-zA-Z]"),
movetext_cleaned = case_when(movetext == "O" ~ "O-O",
TRUE ~ movetext),
movetext_cleaned = str_replace_all(movetext, "^[1-9].", " ")) |> View()
df |>
mutate(movetext_cleaned = strsplit(movetext, "[^1-9.a-zA-Z]"),
movetext_cleaned = case_when(movetext == "O" ~ "O-O",
TRUE ~ movetext),
movetext_cleaned = str_replace_all(movetext, "^[1-9].", " ")) |> View()
text <- "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Be7"
a <- strsplit(text, "[^1-9.a-zA-Z]")[[1]]
a
a <- strsplit(text, "[^1-9.a-zA-Z]")
text <- "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Be7"
a <- strsplit(text, "[^1-9.a-zA-Z]")
a
d <- a |> as.data.frame() |>
mutate(b = case_when(a == "O" ~ "O-O",
TRUE ~ a),
c = str_replace_all(b, "^[1-9].", " "))
df |>
mutate(movetext_cleaned = strsplit(movetext, "[^1-9.a-zA-Z]"),
movetext_cleaned = case_when(movetext == "O" ~ "O-O",
TRUE ~ movetext))
text <- "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nd3 Nxe4 5. Qe2 Qe7 6. Nf4 Nf6 7. d4 Nc6 8. c3 d5 9. Nd2 Nd8 10. Nf3 Qxe2+ 11. Bxe2 Bd6 12. O-O O-O 13. Bd3 Re8 14. Re1 Rxe1+ 15. Nxe1 Ne6 16. Nxe6 Bxe6 17. g3 g6 18. Ng2 Re8 19. f3 Nh5 20. Kf2 c6 21. g4 Ng7 22. Bf4 Bxf4 23. Nxf4 g5 24. Ne2 f5 25. h3 Kf7 26. Rh1 h6 27. f4 fxg4 28. hxg4 Bxg4 29. Rxh6 Bf5 30. Bxf5 Nxf5 31. Rh7+ Ng7 32. fxg5 Kg6 33. Rh3 Kxg5 34. Rg3+ Kf6 35. Rf3+ Ke7 36. Nf4 Kd6 37. Ng6 Re6 38. Ne5 Ne8 39. Rf7 Rf6+ 40. Rxf6+ Nxf6 41. Ke3"
a <- strsplit(text, "[^1-9.a-zA-Z]")
a
d <- a |> as.data.frame() |>
mutate(b = case_when(a == "O" ~ "O-O",
TRUE ~ a),
c = str_replace_all(b, "^[1-9].", " "))
a <- strsplit(text, "[^1-9.a-zA-Z]")[[1]]
d <- a |> as.data.frame() |>
mutate(b = case_when(a == "O" ~ "O-O",
TRUE ~ a),
c = str_replace_all(b, "^[1-9].", " "))
d |> select(c) |>
filter(! c == "")
text <- "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nd3 Nxe4 5. Qe2 Qe7 6. Nf4 Nf6 7. d4 Nc6 8. c3 d5 9. Nd2 Nd8 10. Nf3 Qxe2+ 11. Bxe2 Bd6 12. O-O O-O 13. Bd3 Re8 14. Re1 Rxe1+ 15. Nxe1 Ne6 16. Nxe6 Bxe6 17. g3 g6 18. Ng2 Re8 19. f3 Nh5 20. Kf2 c6 21. g4 Ng7 22. Bf4 Bxf4 23. Nxf4 g5 24. Ne2 f5 25. h3 Kf7 26. Rh1 h6 27. f4 fxg4 28. hxg4 Bxg4 29. Rxh6 Bf5 30. Bxf5 Nxf5 31. Rh7+ Ng7 32. fxg5 Kg6 33. Rh3 Kxg5 34. Rg3+ Kf6 35. Rf3+ Ke7 36. Nf4 Kd6 37. Ng6 Re6 38. Ne5 Ne8 39. Rf7 Rf6+ 40. Rxf6+ Nxf6 41. Ke3"
a <- strsplit(text, "[^1-9.a-zA-Z]")[[1]]
a
d <- a |> as.data.frame() |>
mutate(b = case_when(a == "O" ~ "O-O",
TRUE ~ a),
c = str_replace_all(b, "^[1-9].", " "))
d
d <- a |> as.data.frame() |>
mutate(b = case_when(a == "O" ~ "O-O",
TRUE ~ a),
c = str_replace_all(b, "^[1-9]. ", " "))
d
a |> as.data.frame() |>
mutate(b = case_when(a == "O" ~ "O-O",
TRUE ~ a),
c = str_replace_all(b, "^[1-9].", " "))
a |> as.data.frame() |>
mutate(b = case_when(a == "O" ~ "O-O",
TRUE ~ a),
c = str_replace_all(b, "^[1-9.].", " "))
a |> as.data.frame() |>
mutate(b = case_when(a == "O" ~ "O-O",
TRUE ~ a),
c = str_replace_all(b, "^[1-9.]", " "))
a |> as.data.frame() |>
mutate(b = case_when(a == "O" ~ "O-O",
TRUE ~ a),
c = str_replace_all(b, "^[1-9].", " "))
a |> as.data.frame() |>
mutate(b = case_when(a == "O" ~ "O-O",
TRUE ~ a),
c = str_replace_all(b, "^[1-500].", " "))
a |> as.data.frame() |>
mutate(b = case_when(a == "O" ~ "O-O",
TRUE ~ a),
c = str_replace_all(b, "^[1-6].", " "))
a |> as.data.frame() |>
mutate(b = case_when(a == "O" ~ "O-O",
TRUE ~ a),
c = str_replace_all(b, "^[1-9].", " "))
a |> as.data.frame() |>
mutate(b = case_when(a == "O" ~ "O-O",
TRUE ~ a),
c = str_replace_all(b, "^[1-100].", " "))
a |> as.data.frame() |>
mutate(b = case_when(a == "O" ~ "O-O",
TRUE ~ a),
c = str_replace_all(b, "^[1-200].", " "))
a |> as.data.frame() |>
mutate(b = case_when(a == "O" ~ "O-O",
TRUE ~ a),
c = str_replace_all(b, "^[1-300].", " "))
a |> as.data.frame() |>
mutate(b = case_when(a == "O" ~ "O-O",
TRUE ~ a),
c = str_replace_all(b, "^[100-300].", " "))
text <- "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nd3 Nxe4 5. Qe2 Qe7 6. Nf4 Nf6 7. d4 Nc6 8. c3 d5 9. Nd2 Nd8 10. Nf3 Qxe2+ 11. Bxe2 Bd6 12. O-O O-O 13. Bd3 Re8 14. Re1 Rxe1+ 15. Nxe1 Ne6 16. Nxe6 Bxe6 17. g3 g6 18. Ng2 Re8 19. f3 Nh5 20. Kf2 c6 21. g4 Ng7 22. Bf4 Bxf4 23. Nxf4 g5 24. Ne2 f5 25. h3 Kf7 26. Rh1 h6 27. f4 fxg4 28. hxg4 Bxg4 29. Rxh6 Bf5 30. Bxf5 Nxf5 31. Rh7+ Ng7 32. fxg5 Kg6 33. Rh3 Kxg5 34. Rg3+ Kf6 35. Rf3+ Ke7 36. Nf4 Kd6 37. Ng6 Re6 38. Ne5 Ne8 39. Rf7 Rf6+ 40. Rxf6+ Nxf6 41. Ke3"
text
strsplit(text, "[^1-9.]")[[1]]
strsplit(text, "[^a-zA-Z]")[[1]]
strsplit(text, "[^1-9.a-zA-Z]")[[1]]
a |> as.data.frame() |>
mutate(b = case_when(a == "O" ~ "O-O",
TRUE ~ a),
c = str_replace_all(b, "^[1-9].", " "))
a
a <- strsplit(text, "[^1-9.a-zA-Z]")[[1]]
a |> as.data.frame() |>
mutate(b = case_when(a == "O" ~ "O-O",
TRUE ~ a),
c = str_replace_all(b, "^[1-9].", " "))
text <- "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nd3 Nxe4 5. Qe2 Qe7 6. Nf4 Nf6 7. d4 Nc6 8. c3 d5 9. Nd2 Nd8 10. Nf3 Qxe2+ 11. Bxe2 Bd6 12. O-O O-O 13. Bd3 Re8 14. Re1 Rxe1+ 15. Nxe1 Ne6 16. Nxe6 Bxe6 17. g3 g6 18. Ng2 Re8 19. f3 Nh5 20. Kf2 c6 21. g4 Ng7 22. Bf4 Bxf4 23. Nxf4 g5 24. Ne2 f5 25. h3 Kf7 26. Rh1 h6 27. f4 fxg4 28. hxg4 Bxg4 29. Rxh6 Bf5 30. Bxf5 Nxf5 31. Rh7+ Ng7 32. fxg5 Kg6 33. Rh3 Kxg5 34. Rg3+ Kf6 35. Rf3+ Ke7 36. Nf4 Kd6 37. Ng6 Re6 38. Ne5 Ne8 39. Rf7 Rf6+ 40. Rxf6+ Nxf6 41. Ke3"
a <- strsplit(text, "[^1-9.a-zA-Z]")[[1]]
a |> as.data.frame() |>
mutate(b = case_when(a == "O" ~ "O-O",
TRUE ~ a),
c = str_replace_all(b, "^[1-9].", " "))
d |> select(c) |>
filter(! c == "")
text_outcome <- strsplit(text, "[^1-9.a-zA-Z]")[[1]]
text_outcome <- strsplit(text, "[^1-9.a-zA-Z]")[[1]]
text_outcome |> as.data.frame() |>
mutate(char_cleaned = case_when(char_cleaned == "O" ~ "O-O",
TRUE ~ char_cleaned),
char_cleaned = str_replace_all(char_cleaned, "^[1-9].", " "))
text_outcome |> as.data.frame() |>
mutate(b = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
c = str_replace_all(b, "^[1-9].", " "))
text_outcome |> as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned = str_replace_all(text_cleaned, "^[1-9].", " ")) |>
filter(!text_cleaned == "")
text_outcome <- strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned = str_replace_all(text_cleaned, "^[1-9].", " ")) |>
filter(!text_cleaned == "")
text_outcome
text_outcome |> pull()
text_outcome <- strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned = str_replace_all(text_cleaned, "^[1-9].", " ")) |>
filter(!text_cleaned == " ")
text <- "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nd3 Nxe4 5. Qe2 Qe7 6. Nf4 Nf6 7. d4 Nc6 8. c3 d5 9. Nd2 Nd8 10. Nf3 Qxe2+ 11. Bxe2 Bd6 12. O-O O-O 13. Bd3 Re8 14. Re1 Rxe1+ 15. Nxe1 Ne6 16. Nxe6 Bxe6 17. g3 g6 18. Ng2 Re8 19. f3 Nh5 20. Kf2 c6 21. g4 Ng7 22. Bf4 Bxf4 23. Nxf4 g5 24. Ne2 f5 25. h3 Kf7 26. Rh1 h6 27. f4 fxg4 28. hxg4 Bxg4 29. Rxh6 Bf5 30. Bxf5 Nxf5 31. Rh7+ Ng7 32. fxg5 Kg6 33. Rh3 Kxg5 34. Rg3+ Kf6 35. Rf3+ Ke7 36. Nf4 Kd6 37. Ng6 Re6 38. Ne5 Ne8 39. Rf7 Rf6+ 40. Rxf6+ Nxf6 41. Ke3"
text_outcome <- strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned = str_replace_all(text_cleaned, "^[1-9].", " ")) |>
filter(!text_cleaned == " ")
text_outcome <- strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned = str_replace_all(text_cleaned, "^[1-9].", " ")) |>
filter(!text_cleaned == "")
text <- "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nd3 Nxe4 5. Qe2 Qe7 6. Nf4 Nf6 7. d4 Nc6 8. c3 d5 9. Nd2 Nd8 10. Nf3 Qxe2+ 11. Bxe2 Bd6 12. O-O O-O 13. Bd3 Re8 14. Re1 Rxe1+ 15. Nxe1 Ne6 16. Nxe6 Bxe6 17. g3 g6 18. Ng2 Re8 19. f3 Nh5 20. Kf2 c6 21. g4 Ng7 22. Bf4 Bxf4 23. Nxf4 g5 24. Ne2 f5 25. h3 Kf7 26. Rh1 h6 27. f4 fxg4 28. hxg4 Bxg4 29. Rxh6 Bf5 30. Bxf5 Nxf5 31. Rh7+ Ng7 32. fxg5 Kg6 33. Rh3 Kxg5 34. Rg3+ Kf6 35. Rf3+ Ke7 36. Nf4 Kd6 37. Ng6 Re6 38. Ne5 Ne8 39. Rf7 Rf6+ 40. Rxf6+ Nxf6 41. Ke3"
strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame()
strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned = str_replace_all(text_cleaned, "^[1-9].", " ")) |>
filter(!text_cleaned == "")
text <- "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nd3 Nxe4 5. Qe2 Qe7 6. Nf4 Nf6 7. d4 Nc6 8. c3 d5 9. Nd2 Nd8 10. Nf3 Qxe2+ 11. Bxe2 Bd6 12. O-O O-O 13. Bd3 Re8 14. Re1 Rxe1+ 15. Nxe1 Ne6 16. Nxe6 Bxe6 17. g3 g6 18. Ng2 Re8 19. f3 Nh5 20. Kf2 c6 21. g4 Ng7 22. Bf4 Bxf4 23. Nxf4 g5 24. Ne2 f5 25. h3 Kf7 26. Rh1 h6 27. f4 fxg4 28. hxg4 Bxg4 29. Rxh6 Bf5 30. Bxf5 Nxf5 31. Rh7+ Ng7 32. fxg5 Kg6 33. Rh3 Kxg5 34. Rg3+ Kf6 35. Rf3+ Ke7 36. Nf4 Kd6 37. Ng6 Re6 38. Ne5 Ne8 39. Rf7 Rf6+ 40. Rxf6+ Nxf6 41. Ke3"
strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned = str_replace_all(text_cleaned, "^[1-9].", " "))
strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome))
text <- "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nd3 Nxe4 5. Qe2 Qe7 6. Nf4 Nf6 7. d4 Nc6 8. c3 d5 9. Nd2 Nd8 10. Nf3 Qxe2+ 11. Bxe2 Bd6 12. O-O O-O 13. Bd3 Re8 14. Re1 Rxe1+ 15. Nxe1 Ne6 16. Nxe6 Bxe6 17. g3 g6 18. Ng2 Re8 19. f3 Nh5 20. Kf2 c6 21. g4 Ng7 22. Bf4 Bxf4 23. Nxf4 g5 24. Ne2 f5 25. h3 Kf7 26. Rh1 h6 27. f4 fxg4 28. hxg4 Bxg4 29. Rxh6 Bf5 30. Bxf5 Nxf5 31. Rh7+ Ng7 32. fxg5 Kg6 33. Rh3 Kxg5 34. Rg3+ Kf6 35. Rf3+ Ke7 36. Nf4 Kd6 37. Ng6 Re6 38. Ne5 Ne8 39. Rf7 Rf6+ 40. Rxf6+ Nxf6 41. Ke3"
text_outcome <- strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned = str_replace_all(text_cleaned, "^[1-9].", " ")) |>
filter(!text_cleaned == "")
strsplit(text, "[^1-9.a-zA-Z]")[[1]]
text_outcome <- strsplit(text, "[^1-9.a-zA-Z]")[[1]]
text_outcome
strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome))
strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[1-9].", " "))
strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[1-9].", " ")) |>
filter(!text_cleaned2 == "")
text <- "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nd3 Nxe4 5. Qe2 Qe7 6. Nf4 Nf6 7. d4 Nc6 8. c3 d5 9. Nd2 Nd8 10. Nf3 Qxe2+ 11. Bxe2 Bd6 12. O-O O-O 13. Bd3 Re8 14. Re1 Rxe1+ 15. Nxe1 Ne6 16. Nxe6 Bxe6 17. g3 g6 18. Ng2 Re8 19. f3 Nh5 20. Kf2 c6 21. g4 Ng7 22. Bf4 Bxf4 23. Nxf4 g5 24. Ne2 f5 25. h3 Kf7 26. Rh1 h6 27. f4 fxg4 28. hxg4 Bxg4 29. Rxh6 Bf5 30. Bxf5 Nxf5 31. Rh7+ Ng7 32. fxg5 Kg6 33. Rh3 Kxg5 34. Rg3+ Kf6 35. Rf3+ Ke7 36. Nf4 Kd6 37. Ng6 Re6 38. Ne5 Ne8 39. Rf7 Rf6+ 40. Rxf6+ Nxf6 41. Ke3"
text_outcome <- strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[1-9].", " ")) |>
filter(!text_cleaned2 == "")
text_outcome |> pull()
strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[1-9].", " ")) |>
filter(!text_cleaned2 == "")
text <- "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nd3 Nxe4 5. Qe2 Qe7 6. Nf4 Nf6 7. d4 Nc6 8. c3 d5 9. Nd2 Nd8 10. Nf3 Qxe2+ 11. Bxe2 Bd6 12. O-O O-O 13. Bd3 Re8 14. Re1 Rxe1+ 15. Nxe1 Ne6 16. Nxe6 Bxe6 17. g3 g6 18. Ng2 Re8 19. f3 Nh5 20. Kf2 c6 21. g4 Ng7 22. Bf4 Bxf4 23. Nxf4 g5 24. Ne2 f5 25. h3 Kf7 26. Rh1 h6 27. f4 fxg4 28. hxg4 Bxg4 29. Rxh6 Bf5 30. Bxf5 Nxf5 31. Rh7+ Ng7 32. fxg5 Kg6 33. Rh3 Kxg5 34. Rg3+ Kf6 35. Rf3+ Ke7 36. Nf4 Kd6 37. Ng6 Re6 38. Ne5 Ne8 39. Rf7 Rf6+ 40. Rxf6+ Nxf6 41. Ke3"
text_outcome <- strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[1-9].", " ")) |>
filter(!text_cleaned2 == "")
text <- "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nd3 Nxe4 5. Qe2 Qe7 6. Nf4 Nf6 7. d4 Nc6 8. c3 d5 9. Nd2 Nd8 10. Nf3 Qxe2+ 11. Bxe2 Bd6 12. O-O O-O 13. Bd3 Re8 14. Re1 Rxe1+ 15. Nxe1 Ne6 16. Nxe6 Bxe6 17. g3 g6 18. Ng2 Re8 19. f3 Nh5 20. Kf2 c6 21. g4 Ng7 22. Bf4 Bxf4 23. Nxf4 g5 24. Ne2 f5 25. h3 Kf7 26. Rh1 h6 27. f4 fxg4 28. hxg4 Bxg4 29. Rxh6 Bf5 30. Bxf5 Nxf5 31. Rh7+ Ng7 32. fxg5 Kg6 33. Rh3 Kxg5 34. Rg3+ Kf6 35. Rf3+ Ke7 36. Nf4 Kd6 37. Ng6 Re6 38. Ne5 Ne8 39. Rf7 Rf6+ 40. Rxf6+ Nxf6 41. Ke3"
text_outcome <- strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[1-9].", " ")) |>
filter(!text_cleaned2 == "")
strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[1-9].", " ")) |>
filter(!text_cleaned2 == "")
text <- "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nd3 Nxe4 5. Qe2 Qe7 6. Nf4 Nf6 7. d4 Nc6 8. c3 d5 9. Nd2 Nd8 10. Nf3 Qxe2+ 11. Bxe2 Bd6 12. O-O O-O 13. Bd3 Re8 14. Re1 Rxe1+ 15. Nxe1 Ne6 16. Nxe6 Bxe6 17. g3 g6 18. Ng2 Re8 19. f3 Nh5 20. Kf2 c6 21. g4 Ng7 22. Bf4 Bxf4 23. Nxf4 g5 24. Ne2 f5 25. h3 Kf7 26. Rh1 h6 27. f4 fxg4 28. hxg4 Bxg4 29. Rxh6 Bf5 30. Bxf5 Nxf5 31. Rh7+ Ng7 32. fxg5 Kg6 33. Rh3 Kxg5 34. Rg3+ Kf6 35. Rf3+ Ke7 36. Nf4 Kd6 37. Ng6 Re6 38. Ne5 Ne8 39. Rf7 Rf6+ 40. Rxf6+ Nxf6 41. Ke3"
text
strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame()
strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[1-9].", " "))
strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame()
strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome))
text <- "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nd3 Nxe4 5. Qe2 Qe7 6. Nf4 Nf6 7. d4 Nc6 8. c3 d5 9. Nd2 Nd8 10. Nf3 Qxe2+ 11. Bxe2 Bd6 12. O-O O-O 13. Bd3 Re8 14. Re1 Rxe1+ 15. Nxe1 Ne6 16. Nxe6 Bxe6 17. g3 g6 18. Ng2 Re8 19. f3 Nh5 20. Kf2 c6 21. g4 Ng7 22. Bf4 Bxf4 23. Nxf4 g5 24. Ne2 f5 25. h3 Kf7 26. Rh1 h6 27. f4 fxg4 28. hxg4 Bxg4 29. Rxh6 Bf5 30. Bxf5 Nxf5 31. Rh7+ Ng7 32. fxg5 Kg6 33. Rh3 Kxg5 34. Rg3+ Kf6 35. Rf3+ Ke7 36. Nf4 Kd6 37. Ng6 Re6 38. Ne5 Ne8 39. Rf7 Rf6+ 40. Rxf6+ Nxf6 41. Ke3"
text_outcome <- strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame()
text_outcome |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[1-9].", " ")) |>
filter(!text_cleaned2 == "")
text_outcome <- strsplit(text, "[^1-9.a-zA-Z]")[[1]]
text_outcome |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[1-9].", " ")) |>
filter(!text_cleaned2 == "")
text_outcome |>
as.data.frame()
text_outcome |>
as.data.frame() |> colnames()
text_outcome |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome))
text_outcome |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[1-9].", " "))
text_outcome |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[1-9].", " ")) |>
filter(!text_cleaned2 == "")
text_outcome <- strsplit(text, "[^1-9.a-zA-Z]")[[1]]
text_outcome |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[1-9].", " ")) |>
filter(!text_cleaned2 == "")
text <- "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nd3 Nxe4 5. Qe2 Qe7 6. Nf4 Nf6 7. d4 Nc6 8. c3 d5 9. Nd2 Nd8 10. Nf3 Qxe2+ 11. Bxe2 Bd6 12. O-O O-O 13. Bd3 Re8 14. Re1 Rxe1+ 15. Nxe1 Ne6 16. Nxe6 Bxe6 17. g3 g6 18. Ng2 Re8 19. f3 Nh5 20. Kf2 c6 21. g4 Ng7 22. Bf4 Bxf4 23. Nxf4 g5 24. Ne2 f5 25. h3 Kf7 26. Rh1 h6 27. f4 fxg4 28. hxg4 Bxg4 29. Rxh6 Bf5 30. Bxf5 Nxf5 31. Rh7+ Ng7 32. fxg5 Kg6 33. Rh3 Kxg5 34. Rg3+ Kf6 35. Rf3+ Ke7 36. Nf4 Kd6 37. Ng6 Re6 38. Ne5 Ne8 39. Rf7 Rf6+ 40. Rxf6+ Nxf6 41. Ke3"
text_outcome <- strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[1-9].", " ")) |>
filter(!text_cleaned2 == "")
text_outcome
text_outcome$text_cleaned2 |> pull()
text_outcome$text_cleaned2
text_outcome <- strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[1-9].", " ")) |>
filter(!text_cleaned2 == "", !text_cleaned2 == ".")
text <- "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nd3 Nxe4 5. Qe2 Qe7 6. Nf4 Nf6 7. d4 Nc6 8. c3 d5 9. Nd2 Nd8 10. Nf3 Qxe2+ 11. Bxe2 Bd6 12. O-O O-O 13. Bd3 Re8 14. Re1 Rxe1+ 15. Nxe1 Ne6 16. Nxe6 Bxe6 17. g3 g6 18. Ng2 Re8 19. f3 Nh5 20. Kf2 c6 21. g4 Ng7 22. Bf4 Bxf4 23. Nxf4 g5 24. Ne2 f5 25. h3 Kf7 26. Rh1 h6 27. f4 fxg4 28. hxg4 Bxg4 29. Rxh6 Bf5 30. Bxf5 Nxf5 31. Rh7+ Ng7 32. fxg5 Kg6 33. Rh3 Kxg5 34. Rg3+ Kf6 35. Rf3+ Ke7 36. Nf4 Kd6 37. Ng6 Re6 38. Ne5 Ne8 39. Rf7 Rf6+ 40. Rxf6+ Nxf6 41. Ke3"
text_outcome <- strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[1-9].", " ")) |>
filter(!text_cleaned2 == "", !text_cleaned2 == ".")
strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[1-9].", " ")) |>
filter(!text_cleaned2 == "", !text_cleaned2 == ".")
text <- "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nd3 Nxe4 5. Qe2 Qe7 6. Nf4 Nf6 7. d4 Nc6 8. c3 d5 9. Nd2 Nd8 10. Nf3 Qxe2+ 11. Bxe2 Bd6 12. O-O O-O 13. Bd3 Re8 14. Re1 Rxe1+ 15. Nxe1 Ne6 16. Nxe6 Bxe6 17. g3 g6 18. Ng2 Re8 19. f3 Nh5 20. Kf2 c6 21. g4 Ng7 22. Bf4 Bxf4 23. Nxf4 g5 24. Ne2 f5 25. h3 Kf7 26. Rh1 h6 27. f4 fxg4 28. hxg4 Bxg4 29. Rxh6 Bf5 30. Bxf5 Nxf5 31. Rh7+ Ng7 32. fxg5 Kg6 33. Rh3 Kxg5 34. Rg3+ Kf6 35. Rf3+ Ke7 36. Nf4 Kd6 37. Ng6 Re6 38. Ne5 Ne8 39. Rf7 Rf6+ 40. Rxf6+ Nxf6 41. Ke3"
strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame()
strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[1-9].", " "))
strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[1-9].", " "))
text <- "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nd3 Nxe4 5. Qe2 Qe7 6. Nf4 Nf6 7. d4 Nc6 8. c3 d5 9. Nd2 Nd8 10. Nf3 Qxe2+ 11. Bxe2 Bd6 12. O-O O-O 13. Bd3 Re8 14. Re1 Rxe1+ 15. Nxe1 Ne6 16. Nxe6 Bxe6 17. g3 g6 18. Ng2 Re8 19. f3 Nh5 20. Kf2 c6 21. g4 Ng7 22. Bf4 Bxf4 23. Nxf4 g5 24. Ne2 f5 25. h3 Kf7 26. Rh1 h6 27. f4 fxg4 28. hxg4 Bxg4 29. Rxh6 Bf5 30. Bxf5 Nxf5 31. Rh7+ Ng7 32. fxg5 Kg6 33. Rh3 Kxg5 34. Rg3+ Kf6 35. Rf3+ Ke7 36. Nf4 Kd6 37. Ng6 Re6 38. Ne5 Ne8 39. Rf7 Rf6+ 40. Rxf6+ Nxf6 41. Ke3"
strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame()
strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome))
text_outcome <- strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame()
text_outcome
strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[1-9].", " "))
strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome))
text <- "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nd3 Nxe4 5. Qe2 Qe7 6. Nf4 Nf6 7. d4 Nc6 8. c3 d5 9. Nd2 Nd8 10. Nf3 Qxe2+ 11. Bxe2 Bd6 12. O-O O-O 13. Bd3 Re8 14. Re1 Rxe1+ 15. Nxe1 Ne6 16. Nxe6 Bxe6 17. g3 g6 18. Ng2 Re8 19. f3 Nh5 20. Kf2 c6 21. g4 Ng7 22. Bf4 Bxf4 23. Nxf4 g5 24. Ne2 f5 25. h3 Kf7 26. Rh1 h6 27. f4 fxg4 28. hxg4 Bxg4 29. Rxh6 Bf5 30. Bxf5 Nxf5 31. Rh7+ Ng7 32. fxg5 Kg6 33. Rh3 Kxg5 34. Rg3+ Kf6 35. Rf3+ Ke7 36. Nf4 Kd6 37. Ng6 Re6 38. Ne5 Ne8 39. Rf7 Rf6+ 40. Rxf6+ Nxf6 41. Ke3"
text_outcome <- strsplit(text, "[^1-9.a-zA-Z]")[[1]] |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome))
text <- "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nd3 Nxe4 5. Qe2 Qe7 6. Nf4 Nf6 7. d4 Nc6 8. c3 d5 9. Nd2 Nd8 10. Nf3 Qxe2+ 11. Bxe2 Bd6 12. O-O O-O 13. Bd3 Re8 14. Re1 Rxe1+ 15. Nxe1 Ne6 16. Nxe6 Bxe6 17. g3 g6 18. Ng2 Re8 19. f3 Nh5 20. Kf2 c6 21. g4 Ng7 22. Bf4 Bxf4 23. Nxf4 g5 24. Ne2 f5 25. h3 Kf7 26. Rh1 h6 27. f4 fxg4 28. hxg4 Bxg4 29. Rxh6 Bf5 30. Bxf5 Nxf5 31. Rh7+ Ng7 32. fxg5 Kg6 33. Rh3 Kxg5 34. Rg3+ Kf6 35. Rf3+ Ke7 36. Nf4 Kd6 37. Ng6 Re6 38. Ne5 Ne8 39. Rf7 Rf6+ 40. Rxf6+ Nxf6 41. Ke3"
text_outcome <- strsplit(text, "[^1-9.a-zA-Z]")[[1]]
text_outcome |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome))
text_outcome |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[1-9].", " ")) |>
filter(!text_cleaned2 == "", !text_cleaned2 == ".")
text_outcome |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[1-9].", " ")) |>
filter(!text_cleaned2 == "", !text_cleaned2 == ".") |> View()
text_outcome |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[1-500].", " ")) |>
filter(!text_cleaned2 == "", !text_cleaned2 == ".") |> View()
text_outcome |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[:digit:].", " ")) |>
filter(!text_cleaned2 == "", !text_cleaned2 == ".") |> View()
text_outcome |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[:digit:].", " ")
text_outcome |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[:digit:].", " "))
text_outcome |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[:digit:].", " ")) |> View()
text_outcome |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = gsub("\\.[0−9]*$","",text_cleaned)) |> View()
text_outcome |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = gsub("\\.[1−9]*$","",text_cleaned)) |> View()
text_outcome |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = gsub("\\.^[1−9]*$","",text_cleaned)) |> View()
text_outcome |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = gsub("\\.^[1−9.]","",text_cleaned)) |> View()
text_outcome |>
as.data.frame() |>
mutate(text_cleaned = case_when(text_outcome == "O" ~ "O-O",
TRUE ~ text_outcome),
text_cleaned2 = str_replace_all(text_cleaned, "^[:digit:]\\.", " ")) |>
filter(!text_cleaned2 == "", !text_cleaned2 == ".") |> View()
strsplit(text, "[^:digit:]")
strsplit(text, "[:digit:]")
text <- "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nd3 Nxe4 5. Qe2 Qe7 6. Nf4 Nf6 7. d4 Nc6 8. c3 d5 9. Nd2 Nd8 10. Nf3 Qxe2+ 11. Bxe2 Bd6 12. O-O O-O 13. Bd3 Re8 14. Re1 Rxe1+ 15. Nxe1 Ne6 16. Nxe6 Bxe6 17. g3 g6 18. Ng2 Re8 19. f3 Nh5 20. Kf2 c6 21. g4 Ng7 22. Bf4 Bxf4 23. Nxf4 g5 24. Ne2 f5 25. h3 Kf7 26. Rh1 h6 27. f4 fxg4 28. hxg4 Bxg4 29. Rxh6 Bf5 30. Bxf5 Nxf5 31. Rh7+ Ng7 32. fxg5 Kg6 33. Rh3 Kxg5 34. Rg3+ Kf6 35. Rf3+ Ke7 36. Nf4 Kd6 37. Ng6 Re6 38. Ne5 Ne8 39. Rf7 Rf6+ 40. Rxf6+ Nxf6 41. Ke3"
strsplit(text, "[:digit:]")
strsplit(text, "^[:digit:]")
strsplit(text, "^[:digit:]")[[1]]
strsplit(text, "^[:digit:.]")[[1]]
strsplit(text, "^[:digit: .]")[[1]]
strsplit(text, "^[:digit:].")[[1]]
strsplit(text, "^[:digit:] .")[[1]]
strsplit(text, "^[:digit:]. ")[[1]]
strsplit(text, "^[:digit:]")[[1]]
str_remove_all(text, "^[:digit:]")[[1]]
str_remove_all(text, "^[:digit:].")[[1]]
text <- "1. e4 e5 2. Nf3 Nf6 3. Nxe5 d6 4. Nd3 Nxe4 5. Qe2 Qe7 6. Nf4 Nf6 7. d4 Nc6 8. c3 d5 9. Nd2 Nd8 10. Nf3 Qxe2+ 11. Bxe2 Bd6 12. O-O O-O 13. Bd3 Re8 14. Re1 Rxe1+ 15. Nxe1 Ne6 16. Nxe6 Bxe6 17. g3 g6 18. Ng2 Re8 19. f3 Nh5 20. Kf2 c6 21. g4 Ng7 22. Bf4 Bxf4 23. Nxf4 g5 24. Ne2 f5 25. h3 Kf7 26. Rh1 h6 27. f4 fxg4 28. hxg4 Bxg4 29. Rxh6 Bf5 30. Bxf5 Nxf5 31. Rh7+ Ng7 32. fxg5 Kg6 33. Rh3 Kxg5 34. Rg3+ Kf6 35. Rf3+ Ke7 36. Nf4 Kd6 37. Ng6 Re6 38. Ne5 Ne8 39. Rf7 Rf6+ 40. Rxf6+ Nxf6 41. Ke3"
text
str_remove_all(text, "[:digit:]")[[1]]
str_remove_all(text, "//.")[[1]]
str_remove_all(text, "\\.")[[1]]
str_remove_all(text, "1-9\\.")[[1]]
str_remove_all(text, "[1-9]\\.")[[1]]
str_remove_all(text, "[1-9] & \\.")[[1]]
str_remove_all(text, "\\.")[[1]]
str_remove_all(text, "\\1.")[[1]]
str_remove_all(text, "1\\.")[[1]]
str_remove_all(text, "1-9\\.")[[1]]
str_remove_all(text, "1\\.")[[1]]
str_remove_all(text, "1\\. ")[[1]]
str_remove_all(text, "[1-9]\\. ")[[1]]
str_remove_all(text, "[1-100]\\. ")[[1]]
str_remove_all(text, "[1-0]\\. ")[[1]]
str_remove_all(text, "[1-10]\\. ")[[1]]
str_remove_all(text, "[1-9]\\. ")[[1]]
str_remove_all(text, "[:digit:]\\. ")[[1]]
str_remove_all(text, "^[:digit:]\\. ")[[1]]
str_remove_all(text, "[:digit:]\\. ")[[1]]
str_remove_all(text, "[:digit:]\\. ")[[1]] |> View()
text2 <- c("10. Nf3 Qxe2+ 11. Bxe2 Bd6 12. O-O")
str_remove_all(text2, "[:digit:]\\. ")[[1]]
str_remove_all(text2, "[:xdigit:]\\. ")[[1]]
str_remove_all(text2, "[:alnum:]\\. ")[[1]]
str_remove_all(text2, "[1-9]\\. ]")[[1]]
str_remove_all(text2, "[[1-9]\\. ]0-9]")[[1]]
str_remove_all(text2, "[[1-9]\\. ][0-9]")[[1]]
str_remove_all(text2, "[[1-9]\\. ][0-9]\\. ")[[1]]
str_remove_all(text, "[[1-9]\\. ][0-9]\\. ")[[1]]
str_remove_all(text, "[1-9]\\. ")[[1]]
str_remove_all(text, "[[1-9]\\. ][0-9]\\. ")[[1]]
str_remove_all(text, "[[0-9]\\. ][1-9]\\. ")[[1]]
str_remove_all(text2, "[[1-9]\\. ][0-9]\\. ")[[1]]
str_remove_all(text, "[[0-9]\\. ]")[[1]]
str_remove_all(text, "[0-9]\\. ]")[[1]]
str_remove_all(text2, "[[1-9]\\. ][0-9]\\. ")[[1]]
